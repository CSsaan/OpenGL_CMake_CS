# 使用python绘制直方图，已知直方图列表为长度为256的histlist
import matplotlib.pyplot as plt

histlist = [11088,5866,4710,3336,2988,3684,3280,3649,3540,3575,4222,3917,4387,4551,4586,4848,5056,5150,5269,5185,5480,5668,5678,5595,5804,5834,5782,6112,6098,6279,6076,6286,6245,6138,6143,6230,6168,6145,6013,6062,6137,6256,6438,6428,6779,6894,6903,6934,7053,7252,7267,7320,7169,7182,7374,7739,7757,7542,7618,7499,7668,7681,7583,7781,8064,8161,8072,7898,7959,8449,8660,8632,8580,8753,8844,8898,8636,8491,8258,8177,8201,8288,8171,8205,8143,7882,7845,7677,7728,7838,7489,7280,7000,7043,6683,6806,6770,6711,6526,6308,6214,5994,5830,5478,5294,5018,4813,5006,4668,4883,4778,4775,4730,4865,4755,4703,4696,4528,4550,4374,4445,4554,4178,4107,3961,3933,3988,3792,3771,3633,3716,3685,3543,3457,3458,3256,3192,3072,3088,2903,2730,2787,2874,2860,2693,2692,2928,3076,3298,3407,3263,3094,3206,3455,3985,5059,5274,4955,4297,3903,3630,3678,3705,3768,3839,3807,3636,3810,4037,4552,5259,5851,6063,5861,5946,5289,5093,5004,4913,4920,4999,5092,5300,5647,5720,5748,6094,6435,6458,6499,6449,6252,6610,7022,7200,7779,7418,7122,6595,6507,6185,5959,5568,4962,4611,4334,4133,3958,3714,3498,3288,3048,2899,2907,2655,2616,2512,2535,2353,2155,2141,2116,1899,1796,1540,1404,1354,1273,1221,1325,1420,1290,1302,1244,1319,1203,1211,954,827,858,961,1058,1006,950,971,749,1210,1474,948,827,637,352,234,88,20,0]
print(len(histlist), sum(histlist))


plt.bar(range(256), histlist, color='b', alpha=0.7)
plt.xlabel('Pixel Value')
plt.ylabel('Frequency')
plt.title('Histogram')
plt.show()

# 图片直方图
import cv2
import numpy as np
import matplotlib.pyplot as plt

# 读取图像
image = cv2.imread(r'C:\Users\11795\Desktop\OpenGL_\res\picture\Lakewater_trees.jpg', cv2.IMREAD_GRAYSCALE)

# 计算直方图
hist = cv2.calcHist([image], [0], None, [256], [0, 256])

# 显示直方图
plt.bar(range(256), hist[:,0], color='gray', width=1)
plt.xlabel('Pixel Value')
plt.ylabel('Frequency')
plt.title('Grayscale Histogram')
plt.show()